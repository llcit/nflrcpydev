{% extends "wrap-item-display.html" %}
{% load staticfiles %}

{% block item-menu %}
	
	<h2>
		{% if item.classname == 'storypage' %}
			<img class="item-thumbnail" src="{{MEDIA_URL}}img/logos/default.png">
		{% elif item.classname == 'prodev' %}
			<img class="item-thumbnail" src="{{MEDIA_URL}}img/WORKSHOPS-CONFERENCESplaceholderIcon.png">
		{% elif item.classname == 'projects' %}
			<img class="item-thumbnail" src="{{MEDIA_URL}}img/PROJECTSplaceholderIcon.png">
		{% else %}
			<img class="item-thumbnail" src="{{MEDIA_URL}}img/{{item.getuid}}icon.png">
		{% endif %}
	</h2>
    <ul id="left-sidebar" class="nav nav-stacked"> <div id="toc"></div> </ul>

{% endblock item-menu%}

{% block item-content %}
	<h2>{{ item.title | safe }}</h2>
	<div id="item-content" >{{ item.description | safe }}</div>
{% endblock item-content %}

{% block item-meta %}
	<h2></h2>
	<!-- <div data-spy="affix" data-offset-top="60" data-offset-bottom="10"> -->
	<ul id="right-sidebar" class="nav nav-stacked">
	 	{% for name, value in item.customproperties %}
			<li>
				<div><span class="label label-default">{{ name }}</span></div>
		  		<div>{{ value|safe }}</div>
		  	</li>
		{% endfor %}   	
    </ul>
    <!-- </div> -->
{% endblock item-meta %}

{% block customjavascript %}
	$(function() {
		/* dynamically create side menu based on h2 elements in div#item-content */
		$("#toc").tocify({ context: "#item-content", selectors: "h2", showEffect: "fadeIn", scrollTo: 120 });
	});
{% endblock customjavascript %}
