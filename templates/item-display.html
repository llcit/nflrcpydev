{% extends "wrap-item-display.html" %}
{% load staticfiles %}

{% block item-meta %}

	<!-- Icon -->
	<h2><img class="item-thumbnail" src="{{MEDIA_URL}}img/{{ item.image }}"></h2>
	
	<!-- Dynamic menu -->
	<ul class="nav nav-stacked"> <div id="toc"></div> </ul>

	<!-- Metadata items -->

	<ul id="meta-list" class="nav nav-stacked">
		
		{% if item.classname == 'publications' %}
			<li> <small><i>Author(s)</i></small> </li>
			<li> {{ item.author }} </li>
			<li> <small><i>Date</i></small></li>
			<li> {{ item.year }} </li>
			<li></li>
			<li> <small><i>Access</i></small></li>
			<li> {{ item.url|urlizetrunc:15 }} </li>
			<li>
				{% if item.oclc_url %} 
				<a href="{{ item.oclc_url }}"><img src="{{ MEDIA_URL }}img/logos/oclc-logo.png"/></a>
				{% endif %}
			</li>
			<li> <small><i>Website</i></small></li>
			<li> {{ item.ext_url|urlizetrunc:15 }} </li>
		{% elif item.classname == 'prodev' %}
			<li> {{ item.date }} </li>
			<li> {{ item.pdtype }} </li>
			<li> {{ item.director|safe }} </li>
			<li> {{ item.facilitator|safe }} </li>
			<li> {{ item.related_publication|safe }} </li>
			<li> {{ item.url|urlizetrunc:15 }} </li>
		
		{% elif item.classname == 'projects' %}
			<li> {{ item.grant_cycle }} </li>
			<li> {{ item.director|safe|urlizetrunc:15 }} </li>		
		{% endif %}		 	
    </ul>

{% endblock item-meta %}

{% block item-content %}

	<h2>
		<a href="/{{ item.classname }}/">
			<small>{{ item.displayname | title}}</small>
		</a> 
		<small> <i>>></i> </small>
		<a href="/{{ item.classname }}/{{ shortcut }}">
			<small>{{ shortcut | title }}</small>
		</a>

	</h2>
	
	<h2>{{ item.title | safe }}</h2>
	{% if item.oclc_url %}<h4><span><img src="{{ MEDIA_URL }}img/logos/oer-logo.png" height="30px"/></span></h4>{% endif %}
	
	<div id="item-content" >{{ item.description | safe }}</div>

{% endblock item-content %}



{% block customjavascript %}
	$(function() {
		/* dynamically create side menu based on h2 elements in div#item-content */
		$("#toc").tocify({ context: "#item-content", selectors: "h2", showEffect: "fadeIn", scrollTo: 120 });
	});
{% endblock customjavascript %}
